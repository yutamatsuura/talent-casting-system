# タレントキャスティングシステム - 進捗管理

## 1. 基本情報

- **プロジェクト名**: タレントキャスティングシステム
- **ステータス**: Phase 1: 要件定義 完了
- **開始日**: 2025-11-28
- **技術構成**: HTML/CSS LP + Next.js診断システム + FastAPI + PostgreSQL(Neon)
- **アーキテクチャ**: サブドメイン分離（yourdomain.com + app.yourdomain.com）
- **次のマイルストーン**: Phase 2: Git/GitHub管理
- **最終更新日**: 2025-11-28

## 2. 実装計画

BlueLampでの開発は以下のフローに沿って進行します：

### 開発フェーズ
| フェーズ | 状態 | 担当エージェント | 解説 |
|---------|------|----------------|------|
| **Phase @1: 要件定義** | [x] | 要件定義エンジニア | LP + 診断システム構成で要件定義完了 |
| **Phase @2: Git/GitHub管理** | [ ] | Git管理エージェント | プロジェクトリポジトリを準備し開発環境を整えます |
| **Phase @3: フロントエンド基盤** | [ ] | フロントエンド基盤オーケストレーター | Next.js+TypeScript+Vercel の基盤構築 |
| **Phase @4: ページ実装** | [ ] | ページ実装オーケストレーター | LP・診断システムの実装 |
| **Phase @5: バックエンド実装** | [ ] | バックエンドエージェント | FastAPI + 5段階マッチングロジック実装 |
| **Phase @6: データベース構築** | [ ] | データ設計エージェント | PostgreSQL(Neon) + VR/TPRデータ移行 |
| **Phase @7: 統合テスト** | [ ] | 検証エージェント | 統合テスト・性能テスト・品質保証 |
| **Phase @8: デプロイ** | [ ] | デプロイエージェント | 本番環境構築・3環境デプロイ |

## 3. 技術調査完了（2025-11-28）

### 完了項目
- [x] 5段階マッチングロジック（STEP 0-5）技術実現可能性調査
- [x] パーセンタイル計算パフォーマンス最適化手法選定
- [x] 3秒以内レスポンス実現戦略策定
- [x] バックエンド技術スタック推奨決定
- [x] 約2,000タレント×8ターゲット層データ効率的処理方法確立

### 調査結論
1. **パーセンタイル計算**: 方式A事前計算（推奨）または方式Bリアルタイム（MVP）で実現可能
2. **3秒レスポンス**: 両方式で達成可能（余裕度: 12-48倍）
3. **データ処理**: 16,000件規模は軽量、PostgreSQLインデックス最適化で十分
4. **技術スタック**: FastAPI + PostgreSQL(Neon) + SQLAlchemy推奨

### 期待パフォーマンス
- 方式A（事前計算）: 62ms（目標3秒の48倍余裕）
- 方式B（リアルタイム）: 242ms（目標3秒の12倍余裕）

### 次のアクション
Phase 1実装開始（方式Bリアルタイム計算でMVP構築）

詳細は `docs/requirements.md` の「10. 5段階マッチングロジック技術実現可能性調査」を参照

## 4. 統合ページ管理表

| ID | ページ名 | ルート | 権限レベル | 統合機能 | 着手 | 完了 |
|----|---------|-------|----------|---------|------------|-------------------|
| P-001 | ランディングページ | `/` (yourdomain.com) | ゲスト | サービス紹介・CTA配置 | [ ] | [ ] |
| P-002 | 診断システム | `/` (app.yourdomain.com) | ゲスト | 6段階フォーム・結果表示・5段階マッチング処理 | [ ] | [ ] |

**構成説明**:
- **P-001**: HTML/CSS静的サイト（暫定版、将来差し替え予定）
- **P-002**: Next.js SPA、FastAPI連携でマッチングロジック実行
- **サブドメイン分離**: 開発チーム独立作業可能、Vercel無料プラン × 2プロジェクト

---

## 5. 重要な実装ポイント

### データベース設計
- PostgreSQL（Neon Launch $19/月）
- 7テーブル構造（talents, talent_scores, talent_images + 4マスタテーブル）
- VR/TPRデータ移行（25ファイル → PostgreSQL）

### 5段階マッチングロジック（技術調査完了）
- **STEP0**: 予算フィルタリング
- **STEP1**: 基礎パワー得点（VR人気度 + TPRパワースコア）/ 2
- **STEP2**: 業種イメージ査定（パーセンタイル順位による加減点）★技術最重要
- **STEP3**: 基礎反映得点（STEP1 + STEP2）
- **STEP4**: ランキング確定（上位30名抽出）
- **STEP5**: マッチングスコア振り分け（順位帯別ランダムスコア）

### パフォーマンス目標
- **レスポンス時間**: <3秒（設計値242ms、12倍余裕）
- **同時ユーザー**: 100-500人対応
- **データ規模**: 約16,000件（軽量、最適化不要）

---

## 6. 次のアクション

**Phase 1完了**: ✅ 2025-11-28
**推奨次フェーズ**: Phase 2: Git/GitHub管理

### 開始手順
VS Code拡張「BlueLamp」のプロンプトカードより：
1. **Phase @2: Git/GitHub管理** をクリック → Git環境構築
2. または **Phase @3: フロントエンド基盤** から直接開始（Git管理スキップ可）

**重要**: 各フェーズは専門エージェントが担当するため、該当フェーズのプロンプトカードを使用してください。

### 成果物一覧
- ✅ `docs/requirements.md` - 詳細要件定義書
- ✅ `docs/SCOPE_PROGRESS.md` - 進捗管理表
- ✅ `CLAUDE.md` - プロジェクト設定ファイル

**開発準備完了** - いつでも実装フェーズに進めます。
